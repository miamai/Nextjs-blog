---
title: 'JavaScript 30 Days(ä¸Š)'
date: '2022-11-03'
tags: ['ç¨‹å¼']
image: '/images/projects/js30.PNG'
---

ä¸»è¦ç‚ºäº†æ›´åŠ ç†Ÿæ‚‰ JS åŠç·´ç¿’å¯« markdownï¼Œå¯«ä¸‹è‡ªå·±é‚„ä¸æ‡‚çš„é»

> ğŸ‘‰[JavaScript30](https://javascript30.com/)

## 01 - JavaScript Drum Kit

- `.play()` : å˜—è©¦æ’¥æ”¾åª’é«”ï¼Œè¿”å› promise
- `audio.currentTime = 0` : è®“æ’­æ”¾é€²åº¦å›åˆ° 0ï¼Œåœ¨ keydown äº‹ä»¶æ™‚ï¼Œå°±èƒ½é‡é ­æ’¥æ”¾ï¼Œåœ¨é•·ä¸€é»çš„éŸ³è¨Šä¸­å¯ä»¥æ„Ÿå—å·®ç•°!
- script defer é‡è¦æ€§
  - åœ¨é–‹å§‹çŠ¯äº†å¤§éŒ¯ï¼Œæ²’åŠ å…¥ deferï¼Œè«‹æ±‚ js å…ˆè·‘ï¼Œä½† DOM é‚„æ²’è®€å®Œå…ˆåŸ·è¡Œ scriptï¼Œæ‰€ä»¥ script ä¸€é–‹å§‹.key æ˜¯ç„¡æ³•è®€åˆ°(ä¸å­˜åœ¨çš„)ï¼Œä½†æ‰“é–‹ç•«é¢æœ‰æ¸²æŸ“å‡ºä¾†ï¼Œä»£è¡¨ DOM å·²å»ºæ§‹å¥½ï¼Œåœ¨åŸ·è¡Œ keydown å‹•ä½œæ™‚ï¼Œaudio æ˜¯å­˜åœ¨ä¸”å¯è®€

## 02 - JS and CSS Clock

- `new Date().getTime()` : è¿”å› Date ç‰©ä»¶çš„æ™‚é–“æ•¸å€¼
- Tips
  - è¨­ç½®æ™‚é‡åˆ†é‡ç§’é‡æ—‹è½‰è§’åº¦ï¼Œè·Ÿè‘—æ™‚é–“æ•¸å€¼èµ°
  ```javascript
  const secDegrees = (sec / 60) * 360 + 90;
  secHand.style.transform = `rotate(${secDegrees}deg)`;
  ```
  - `setInterval()` : é‡è¤‡åŸ·è¡Œå‡½å¼å‘¼å«ï¼Œæ™‚é–“è¨­ 1000ms

## 03 - CSS Variables

- `document.documentElement.style.setProperty(propertyName, value, priority)`

- Tips

  - input element è¨­ç½® name æŒ‡å®šè®Šæ›´çš„ Css variablesï¼›data-sizing æŒ‡å®š variables å–®ä½(px)

## 04 - Array Cardio Day 1

- ç†Ÿæ‚‰ Array æ–¹æ³•

## 05 - Flex Panel Gallery

- `e.propertyName` : ç›£è½ transitionend è§¸ç™¼æ™‚ï¼Œæ­é… e.propertyName é€²è¡Œä¸‹ä¸€å€‹æœ‰æ¢ä»¶çš„ classList.toggle()

## 06 - Type Ahead

- Promise

  - `fetch()`
  - `then()`
  - `json()`

- Array

  - `push()`
  - spread syntax

é‹ç”¨ fetch()ç™¼é€ HTTP è«‹æ±‚: i.ç²å–è¿”å› promise å°è±¡ ii.è§£æ json æ•¸æ“š iii.å­˜å…¥æ•¸æ“šã€‚ åˆ©ç”¨`push`å°‡ data å­˜å…¥ cities æ•¸çµ„ä¸­ï¼ŒåŸæœ¬å–å‡ºçš„ data æ˜¯æ•¸çµ„ï¼Œç›´æ¥`cities.push(data)`æœƒ nestedï¼Œå› æ­¤å°‡ data spread å¾Œå†å­˜å…¥

```javascript
fetch(endpoint)
  .then((blob) => blob.json())
  .then((data) => cities.push(...data));
```

- RegExp æ­£è¦è¡¨é”å¼ç‰©ä»¶ : å¯ä»¥ç”¨ä¾†åšæ–‡å­—æœå°‹ã€æ¯”å°ã€è½‰æ›ç­‰
  - gi : å…¨åŸŸæ¯”å°ä¸”å¿½ç•¥å¤§å°å¯«
  - match(regex) è¿”å›ç¬¦åˆçš„å€¼
  - replace(regex, replacingWord) è¿”å›æ›¿ä»£å¾Œçš„å€¼

## 07 - Array Cardio Day 2

- ç†Ÿæ‚‰ Array æ–¹æ³•

## 08 - Fun with HTML5 Canvas

- canvas æ˜¯ä¸€å€‹å¯ä»¥ä½¿ç”¨ JS ä¾†ç¹ªè£½ 2D åœ–å½¢çš„ HTML å…ƒç´ 
- `beginPath()`ï¼šæ–°å»ºä¸€æ¢è·¯å¾‘
- `stroke()`ï¼šç¹ªè£½è¼ªå»“
- `moveTo()`ï¼šï¼ˆä¸‹æ¬¡ï¼‰ç¹ªè£½çš„èµ·é»
- `lineTo()`ï¼šè·¯å¾‘çµ‚é»

åœ¨ç¹ªè£½éç¨‹ä¸­ï¼Œç·šæ˜¯ç”±é»æ‰€é€£èµ·ä¾†çš„ï¼Œä½†åœ¨åˆå§‹ç‹€æ…‹ lastX=0 lastY=0 ä¸‹èµ·å§‹ç›¸åŒï¼Œå› æ­¤æ»‘å‹•éç¨‹æœƒè®Šç‚ºæ‰‡å½¢ï¼Œå› æ­¤è¨­å®š`[lastX, lastY] = [e.offsetX, e.offsetY]`ï¼Œè®“`lastX`å’Œ `offsetX` çš„å€¼ç›¸ç­‰ï¼Œå‘ˆç¾ç¹ªè£½ä¸€å€‹å€‹é»ï¼Œçœ‹èµ·ä¾†ç·šæ‰æ˜¯æµå‹•çš„

```javascript
function draw(e) {
  /***/
   ctx.beginPath();
   ctx.moveTo(lastX, lastY);
   ctx.lineTo(e.offsetX, e.offsetY);
   ctx.stroke();
   [lastX, lastY] = [e.offsetX, e.offsetY];
  /***/
```

## 09 - Dev Tools Domination

- console èª¿è©¦æŠ€å·§

## 10 - Hold Shift and Check Checkboxes

- `lastChecked` : æ¨™è¨˜ç¯„åœ
- `inBetween` : åˆå§‹å€¼ç‚º falseï¼ŒæŒ‰ä¸‹ shift éµä¸¦åŒæ™‚é¸ä¸­æŸå…ƒç´ ï¼Œéæ­·æ‰€æœ‰é¸é …ï¼Œé‡åˆ°`input === lastChecked || input ===this`å‰‡æ¨™è¨˜ç›¸åï¼Œä¸­é–“éæ­·é¸é …`inBetween = true`

```javascript
let lastChecked;
function handleCheck(e) {
  let inBetween = false;
  if (e.shiftKey && this.checked) {
    checkboxes.forEach((checkbox) => {
      if (checkbox === this || checkbox === lastChecked) {
        inBetween = !inBetween;
      }
      if (inBetween) {
        checkbox.checked = true;
      }
    });
  }
  lastChecked = this;
}
```

## 11 - Custom Video Player

- video node æ“ä½œ

  - `video.pause` : å½±ç‰‡æ˜¯å¦æš«åœ
  - `video.play()` : æ’­æ”¾å½±ç‰‡
  - `video.pause()` : æš«åœå½±ç‰‡

- `toggle.textContent` : æ”¹è®Šæ’­æ”¾åœ–æ¡ˆ

```javascript
function updateButton() {
  const icon = this.paused ? 'â–º' : 'âš âš';
  toggle.textContent = icon;
}
video.addEventListener('play', updateButton);
video.addEventListener('pause', updateButton);
```

- input , video å±¬æ€§æ”¹è®ŠéŸ³é‡å’Œæ’­æ”¾é€Ÿåº¦
  input åˆ†åˆ¥æœ‰ä¸€å€‹`volume`å’Œ`playbackRate`çš„ name å±¬æ€§ï¼Œå¦‚æ­¤å–åæ˜¯å› ç‚ºå°æ‡‰ video éŸ³é‡å’Œæ’­æ”¾é€Ÿåº¦çš„å±¬æ€§åï¼Œé€™æ¨£å¯ä»¥ç›£è½ input å…ƒç´ çš„`change`äº‹ä»¶ï¼Œæ”¹è®Šå½±ç‰‡å±¬æ€§

```html
<input
  type="range"
  name="volume"
  class="player__slider"
  min="0"
  max="1"
  step="0.05"
  value="1"
/>
<input
  type="range"
  name="playbackRate"
  class="player__slider"
  min="0.5"
  max="2"
  step="0.1"
  value="1"
/>
```

```javascript
function handleRangeUpdate() {
  video[this.name] = this.value;
}

ranges.forEach((range) => range.addEventListener('change', handleRangeUpdate));
```

- æ“ä½œé€²åº¦æ¢
  - `progressBar.style.flexBasis` : åˆ©ç”¨`flex-basis`æ”¹è®Šé€²åº¦æ¢é¡è‰²å æ¯” -`offsetX`, `offsetWidth` : é€éæ»‘é¼ äº‹ä»¶å°è±¡`offsetX`ä¾†æ‰¾åˆ°ä½ç½®ç›¸å°æ–¼å…ƒç´ çš„æ°´å¹³åç§»ï¼Œä¾†è¨ˆç®—é€²åº¦çš„ç™¾åˆ†æ¯”

## 12 - Key Sequence Detection

- `splice()` : æˆªå–æ•¸çµ„ï¼Œä¿æŒæœ€å¤§é•·åº¦ç‚º secretCode

```javascript
//è‹¥startç‚ºè² ï¼Œå¾æœ€å¾Œä¸€å€‹å…ƒç´ å¾€å‰æ•¸(-1é–‹å§‹)
pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
```

## 13 - Slide in on Scroll

- `debounce` : é™ä½äº’å‹•äº‹ä»¶é »ç¹ç™¼ç”Ÿ [å»¶ä¼¸:debounce & throttle å·®ç•°](https://ithelp.ithome.com.tw/articles/10222749)
- æ¶‰åŠé é¢å°ºå¯¸å±¬æ€§
  - `window.scrollY` : é é¢å¾é ‚éƒ¨é–‹å§‹æ»¾å‹•éå¾Œçš„åƒç´ å€¼
  - `window.innerHeight` : viewport éƒ¨åˆ†çš„é«˜åº¦
  - `element.offsetTop` : ç•¶å‰å…ƒç´ é ‚éƒ¨ç›¸å°æ–¼ offsetParent å…ƒç´ é ‚éƒ¨çš„è·é›¢
